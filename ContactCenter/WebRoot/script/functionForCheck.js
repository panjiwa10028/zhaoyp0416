function isFloat(str) {
	var ch=str.charAt(0);
	if( ch == "." ) return false;
    for (var i=0; i < str.length; i++)
	{	ch=str.charAt(i);
		if ((ch != ".") && (ch != "0") && (ch != "1") && (ch != "2") && (ch != "3") && (ch != "4") && (ch != "5") && (ch != "6") && (ch != "7") && (ch != "8") && (ch != "9"))
			return false;
	}
    return true;
}

function isNumber(str) {
    for (var i=0; i < str.length; i++)
	{	var ch=str.charAt(i);
		if ((ch != "0") && (ch != "1") && (ch != "2") && (ch != "3") && (ch != "4") && (ch != "5") && (ch != "6") && (ch != "7") && (ch != "8") && (ch != "9"))
			return false;
	}
	if(eval(str)>2147483647)
		return false;
    return true;
} 

/*
	???????????????trim
	????????????: ???????????????????????????????????????
	??????????????????????????????
	?????????????????????????????????
*/
function trim(str){
	//return str.replace(/(^\s*)|(\s*$)/g, "");
	return str.replace(/(^[\s???]*)|([\s???]*$)/g, "");
}

/*  ??????????????????????????????????????????yyyy-mm-dd hh:mm:ss???
			  yyyy/mm/dd hh:mm:ss?????????????????????
			  ????????????????????????????????????????????????
			  ?????????????????????false
*/
function isDateTime(strDateTime){
	  if (strDateTime == null || strDateTime == "")
        return false;
    var pos = strDateTime.indexOf(" ");    
    if (pos == -1)
        return false;
    var strDate = strDateTime.substr(0, pos);
    var strTime = strDateTime.substr(pos+1);
    if(isDate(strDate) == false)
    	return false;
    if(!isTime(strTime))
    	return false;
    return true;
}

/*  ??????????????????????????????????????????yyyy-mm-dd???
			  yyyy/mm/dd?????????????????????
			  2001/01/2???2001-3-04?????????????????????
			  ????????????????????????????????????????????????
			  ?????????????????????false
*/
function isDate(strDate){
	var regYear = /\d{4}[-/]/g;	//year pattern
	var regMonth;
	var regDay =  /\d{1,2}/g;;
	var chrSeperator;
	var arr,str;
	if ((arr = regYear.exec(strDate)) == null)
		return false;
	var intYearlen = arr.lastIndex - arr.index - 1;
	if (arr.index != 0 || (intYearlen != 4 && intYearlen != 2))
		return false;
	str = arr[0];
	chrSeperator = str.charAt(str.length - 1);  // get the seperator ('-' or '/')
	intYear = parseInt(str.substr(0, str.length - 1));	// get the year
	if (intYear < 1900 || intYear > 2099)  //Error Year
		return false;

	strDate = strDate.substr(arr.lastIndex);
	if (chrSeperator == "-")
		regMonth = /\d{1,2}[-]/g;
	else
		regMonth = /\d{1,2}[/]/g;
	if ((arr = regMonth.exec(strDate)) == null)
		return false;
	if (arr.index != 0)
		return false;
	str = arr[0];
	if (str.charAt(0) == '0') {
		intMonth = parseInt(str.substr(1, str.length - 2)); // get the month
	} else {
		intMonth = parseInt(str.substr(0, str.length - 1)); // get the month
	}
	if (intMonth < 1 || intMonth > 12) //Error Month
		return false;

	strDate = strDate.substr(arr.lastIndex);

	if ((arr = regDay.exec(strDate)) == null)
		return false;
	if (arr.index != 0 || arr.lastIndex != strDate.length)
		return false;
	str = arr[0];
	if (str.charAt(0) == '0') {
		intDay = parseInt(str.substr(1, str.length - 1)); // get the day
	} else {
		intDay = parseInt(str); // get the day
	}
	if (intDay < 1 || intDay > 31)  //Error Day
		return false;

	datDate = new Date(intYear, intMonth - 1, intDay); //Test the Date
	if (isNaN(datDate))  //Error Date Format
		return false;
	if (datDate.getMonth() != intMonth - 1 || datDate.getDate() != intDay)  //invalid date such as '1999/02/29' and '1999/04/31'
		return false;
	return datDate;  //Return the Date in parsed format
}

function isInt(n) {
	var i = parseInt(n*1);
	if (i == NaN) {
		return false;
	}
	if (i != n){
		return false;
	}
	return true;
}
/**
*???????????????hh:mm:ss
*/
	function isTime(strTime){
    if (strTime == null || strTime == "")
        return false;
    var pos = strTime.indexOf(":");    if (pos == -1)
        return false;
    var h = strTime.substr(0, pos);
    if (h.length > 2 || !isInt(h))
        return false;
    if (h * 1 < 0 || h * 1 >= 24)
        return false;
    var ms = strTime.substr(pos + 1);
	pos = ms.indexOf(":");    if (pos == -1)
        return false;
	var m = ms.substr(0, pos);
    if (m.length > 2 || !isInt(h))
        return false;
    if (m * 1 < 0 || m * 1 >= 60)
        return false;
	var s = ms.substr(pos +1);
	
    if (s.length > 2 || !isInt(s))
        return false;
    if (s < 0 || s >=60)
        return false; 
    
    return true;
}
function isMail(str) {
	if (trim(str) == ""){
		return true;
	}
    var a=str.indexOf("@")+1;
    var p=str.lastIndexOf(".")+1;
    if(str.indexOf("'") > 0)
		return false;
	if(str.indexOf('"') > 0)
		return false;
    if (a<2)
       return false;
    if (p<1)
       return false;
    if (p<a+2)
       return false;
    if (str.length==p)
       return false;
    return true;
}
function isEmail(str) {
	if (trim(str) == ""){
		return false;
	}
   var reEmail = /^([\w\.-]+)@([a-zA-Z0-9-]+)(\.[a-zA-Z\.]+)$/;
    if(str.search(reEmail) == -1){
        return false;
    }else{
        return true;
    }

/*	var reEmail = /^[a-zA-Z0-9_.]{1,}@[a-zA-Z0-9_]{1,}(.[a-zA-Z0-9_]{2,})+$/;
	if (!str.match(reEmail)&&str!="")
	{
		return false;
	}
	else return true;
	*/
}
function isPostCode(str) {
	if(str.length>32)
	{
		return false;
	}
	for(var i=0;i<32;i++)
	{
		var index=str.substring(i,eval(i+1));
		if(!isInt(index) && (index<'a' || index>'z') && (index<'A' || index>'Z'))
			return false;
	}
	return true;
}
/*
	???????????????checkString()
	????????????: ????????????&???????????????<???>???:???;???????????????;
		???????????????32???????????????48~57???????????????65~90?????????????????????95??????????????????97~122?????????????????????>127???????????????
	???????????????2001/06/14
	??????????????????????????????
	?????????????????????????????????

*/
function checkString(str){
	var strChar = str;
	var isValid = true;
	for (var i = 0; i < str.length; i++){
		if ( (str.charCodeAt(i) == 32) || (str.charCodeAt(i) == 45)  || ((str.charCodeAt(i) >= 48) && (str.charCodeAt(i) <= 57)) || ((str.charCodeAt(i) >= 65) && (str.charCodeAt(i) <= 90)) || (str.charCodeAt(i) == 95) || ((str.charCodeAt(i) >= 97) && (str.charCodeAt(i) <= 122)) || (str.charCodeAt(i) > 127) ) {
			// do nothing
		} else {
			isValid = false;
			break;
		}
	}
	return isValid;
}


/*
	???????????????round
	????????????: ?????????????????????
	??????????????????????????????????????????
	?????????????????????????????????
	add by:		jacky deng
*/
function round(inNum,n){

	return inNum.toFixed(n);
}


/*
	???????????????checkMaxlength
	????????????: ?????????????????????????????????????????????????????????
	?????????????????????????????????????????????
	?????????????????????????????????????????????????????????
	add by:		jacky deng
*/
function checkMaxlength(field,fieldLength){
	var str = field.value;
	var checkStr = "";
	var checkLength = 0 ;
	for (var i = 0; i < str.length; i++){
		if(str.charCodeAt(i) >127){
			checkLength+=2;
		}else{
			checkLength+=1;
		}
		if(checkLength >fieldLength){
			field.value = checkStr;
			break;
		}
		checkStr += str.charAt(i);
	}
	return true;
}
//??IP?????
function isIP(str){

 if (trim(str) == "")
 {
	return true;
 }
	
  var check=function(v){
  	try
  	{
  		return (v!=''&& v<=255 && v>=0)
  	}
  	catch(x)
  	{
  		return false
  	}
  	};
  	
  var re=str.split(".")
  
  if(re.length==4)
  {
  	return check(re[0]) && check(re[1]) && check(re[2]) && check(re[3])
  }
  else
  {
  	return false;
  }
} 
//??url
function isURL(str)
{
	if (trim(str) == "")
 	{
		return true;
 	}
	var part=/^http:\/\/\w+\.{1}\w+\.{1}\w+/g;
	if(!part.test(str))
	{
		return false;
	}
	return true;
} 

 
